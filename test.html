<div id="OSMD_div">loading OpenSheetMusicDisplay</div>
    <script>
    var div_id = OSMD_div;
    function loadOSMD() { 
        return new Promise(function(resolve, reject){
            if (window.opensheetmusicdisplay) {
                return resolve(window.opensheetmusicdisplay)
            }
            // OSMD script has a 'define' call which conflicts with requirejs
            var _define = window.define // save the define object 
            window.define = undefined // now the loaded script will ignore requirejs
            var s = document.createElement( 'script' );
            s.setAttribute( 'src', "https://cdn.jsdelivr.net/npm/opensheetmusicdisplay@0.7.6/build/opensheetmusicdisplay.min.js" );
            //s.setAttribute( 'src', "/custom/opensheetmusicdisplay.js" );
            s.onload=function(){
                window.define = _define
                resolve(opensheetmusicdisplay);
            };
            document.body.appendChild( s ); // browser will try to load the new script tag
        }) 
    }
    loadOSMD().then((OSMD)=>{
        window.openSheetMusicDisplay = new OSMD.OpenSheetMusicDisplay(div_id, {
          drawingParameters: "compacttight"
        });
        openSheetMusicDisplay
            .load("<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<!DOCTYPE score-partwise  PUBLIC \"-//Recordare//DTD MusicXML 3.1 Partwise//EN\" \"http://www.musicxml.org/dtds/partwise.dtd\">\n<score-partwise version=\"3.1\">\n  <movement-title>Music21 Fragment</movement-title>\n  <identification>\n    <creator type=\"composer\">Music21</creator>\n    <encoding>\n      <encoding-date>2022-05-02</encoding-date>\n      <software>music21 v.7.3.3</software>\n    </encoding>\n  </identification>\n  <defaults>\n    <scaling>\n      <millimeters>7</millimeters>\n      <tenths>40</tenths>\n    </scaling>\n  </defaults>\n  <part-list>\n    <score-part id=\"P66f2c921188670599d5b2532a1338db2\">\n      <part-name />\n    </score-part>\n  </part-list>\n  <!--=========================== Part 1 ===========================-->\n  <part id=\"P66f2c921188670599d5b2532a1338db2\">\n    <!--========================= Measure 1 ==========================-->\n    <measure number=\"1\">\n      <attributes>\n        <divisions>10080</divisions>\n        <time>\n          <beats>4</beats>\n          <beat-type>4</beat-type>\n        </time>\n        <clef>\n          <sign>F</sign>\n          <line>4</line>\n        </clef>\n      </attributes>\n      <direction>\n        <direction-type>\n          <metronome parentheses=\"no\">\n            <beat-unit>quarter</beat-unit>\n            <per-minute>150</per-minute>\n          </metronome>\n        </direction-type>\n        <sound tempo=\"150\" />\n      </direction>\n      <note>\n        <pitch>\n          <step>F</step>\n          <octave>4</octave>\n        </pitch>\n        <duration>20160</duration>\n        <type>half</type>\n      </note>\n      <note>\n        <pitch>\n          <step>F</step>\n          <octave>3</octave>\n        </pitch>\n        <duration>20160</duration>\n        <type>half</type>\n      </note>\n    </measure>\n    <!--========================= Measure 2 ==========================-->\n    <measure number=\"2\">\n      <note>\n        <pitch>\n          <step>F</step>\n          <octave>3</octave>\n        </pitch>\n        <duration>20160</duration>\n        <type>half</type>\n      </note>\n      <note>\n        <pitch>\n          <step>G</step>\n          <octave>3</octave>\n        </pitch>\n        <duration>20160</duration>\n        <type>half</type>\n      </note>\n    </measure>\n    <!--========================= Measure 3 ==========================-->\n    <measure number=\"3\">\n      <note>\n        <pitch>\n          <step>G</step>\n          <octave>3</octave>\n        </pitch>\n        <duration>20160</duration>\n        <type>half</type>\n      </note>\n      <note>\n        <pitch>\n          <step>A</step>\n          <octave>3</octave>\n        </pitch>\n        <duration>20160</duration>\n        <type>half</type>\n      </note>\n    </measure>\n    <!--========================= Measure 4 ==========================-->\n    <measure number=\"4\">\n      <note>\n        <pitch>\n          <step>A</step>\n          <octave>3</octave>\n        </pitch>\n        <duration>20160</duration>\n        <type>half</type>\n      </note>\n      <note>\n        <pitch>\n          <step>B</step>\n          <octave>3</octave>\n        </pitch>\n        <duration>20160</duration>\n        <type>half</type>\n      </note>\n    </measure>\n    <!--========================= Measure 5 ==========================-->\n    <measure number=\"5\">\n      <note>\n        <pitch>\n          <step>B</step>\n          <octave>3</octave>\n        </pitch>\n        <duration>20160</duration>\n        <type>half</type>\n      </note>\n      <note>\n        <pitch>\n          <step>C</step>\n          <octave>4</octave>\n        </pitch>\n        <duration>20160</duration>\n        <type>half</type>\n      </note>\n    </measure>\n    <!--========================= Measure 6 ==========================-->\n    <measure number=\"6\">\n      <note>\n        <pitch>\n          <step>C</step>\n          <octave>4</octave>\n        </pitch>\n        <duration>20160</duration>\n        <type>half</type>\n      </note>\n      <barline location=\"right\">\n        <bar-style>light-heavy</bar-style>\n      </barline>\n    </measure>\n  </part>\n</score-partwise>")
            .then(
              function() {
                openSheetMusicDisplay.render();
              }
            );
    })
    </script>
    